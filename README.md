# 2103-bdm
20-1 빅데이터마이닝

## 3. 분석 방법

본 절에서는 가장 먼저 분석에 사용한 국민건강보험공단(이하 건보공단)의 건강검진 데이터, 데이터 구조를 반영한 연구 설계 및 전처리 방법에 대해 소개한다. 분석에 사용한 모형과 모형의 불균형 클래스의 특성을 평가 방법에 대해 간략히 소개한다.

### 3.1. 데이터 소개
분석에 사용한 데이터는 건보공단의 건강검진DB 1.0 코호트이다. 건보공단에서는 건강보험제도를 통해 수집된 자료를 구축하여 연구자들에게 제공하고 있다. 이는 연구용이 아닌 건강보험법 제 55조에 의해 요양급여심사 및 적정성 평가를 위해 수집된 자료이며, 비급여 진료 및 의료 행위의 결과 등의 정보는 없다. 반대로 국민건강보험 대상자인 대한민국 국민을 대상으로 하기에 전국민의 의료 이용 내역이 추적 가능하다는 장점이 있다. 이 데이터는 환자의 사회경제학적 변수인 성별, 연령대, 거주지 등을 포함하는 자격DB와 청구 명세서 내역 DB (T20, T30, T40, T60)로 구성된다. 또한 환자의 건강검진 정보를 제공하는 건강검진 DB에는 일반건강검진(1차)와 구강검진(일반) 정보가 있으나, 본 분석에는 일반건강검진(1차)이 2002-2008년 정보만 이용한다. 모든 데이터는 개인의 식별이 불가하도록 익명화 처리 되어 있으나 각 테이블의 정보를 서로 연결하여 사용할 수 있도록 개인일련번호(PERSON_ID)를 제공한다. 명세서 내역 테이블의 경우 명세서 일반 내역(t20), 원내 진료 내역(t30), 상병 내역(t40)과 처방전 상세 내역(t60)으로 구성된다. T20에는 하나의 진료에 대해 하나의 청구 내용이 기록되어 있다. 해당 명세서의 세부적인 원내의 처방 및 수술 기록은 T30 에, 환자가 진단 받았던 상병내역은 T40에, 환자가 원외에서 약국을 통해 처방받은 약은 T60에 상세히 기록되어 있다. 이러한 명세서 내역들의 정보는 청구일련번호(KEY_SEQ)로 연결된다. [표 1]은 데이터의 구조와 변수를 정리해두었다.

### 3.2. 연구 설계
본 분석은 고혈압 환자군에서 뇌심혈관 질환을 예측하는 모델을 만들고 변수 중요도를 통해 뇌심혈관 질환과 연관성이 높은 요인을 찾아내는 것을 최종 목표로 한다. 건강검진DB 1.0은 2002년-2003년 사이에 건강검진을 받은 50만명의 환자에 대한 코호트이다. 이 중 총 9,990명의 무작위 추출된 DB를 이용하여 연구를 진행한다. 환자와 이 환자들의 2002-2013년 동안의 병원 방문 기록인 1,743,545 건에 대한 기록을 포함한다. 이 환자 중에서 고혈압 진단이나 고혈압 관련 약 처방을 최소 한 번이라도 받은 적이 있는 환자 3,165명을 추출하였다. 그 후 고혈압의 진단 이 전에 뇌심혈관 질환이 있는 환자의 경우, 고혈압 환자의 기록을 통해 뇌심혈관질환과의 연관성을 찾기에는 부적절하므로 연구에서 제외되었다. 추가로 건강검진 기록은 2002-2008년 동안의 건강검진 기록 중 최신의 것을 이용하였으며, 기간 동안의 모든 건강 기록 정보에 결측이 존재하는 환자 15명은 분석에서 제외하였다. 추가 제외 기준을 통해서 최종적으로 분석에 사요된 환자는 2,991명이다. 그 중 뇌심혈관 질환을 진단받은 환자는 374명이다. 간략한 과정은 그림[-]에 제시되어있다.
![image](https://user-images.githubusercontent.com/55395404/124350790-b0a45500-dc31-11eb-8939-8cb4b68a3f13.png)
